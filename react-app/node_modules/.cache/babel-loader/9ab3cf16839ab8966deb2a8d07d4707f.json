{"ast":null,"code":"const GET_PRODUCTS_BY_DEPT = 'get/department/products';\nconst GET_PRODUCT_BY_DEPT = 'get/department/product';\nconst CLEARPRODUCT = 'spot/clearSpot';\n\n/* ___________ A C T I O N S   ___________ */\nexport const getProducts = products => {\n  return {\n    type: GET_PRODUCTS_BY_DEPT,\n    products\n  };\n};\nexport const getProduct = product => {\n  return {\n    type: GET_PRODUCT_BY_DEPT,\n    product\n  };\n};\nexport const clearSpotAction = () => {\n  return {\n    type: CLEARSPOT\n  };\n};\n/* ___________ T H U N K S   ___________ */\n// Get products for department \nexport const getProductsThunk = departmentId => async dispatch => {\n  const response = await fetch(`/api/departments/${departmentId}/products`);\n  const products = await response.json();\n  dispatch(getProducts(products));\n};\n\n// Get single product\nexport const getProductThunk = productId => async dispatch => {\n  const response = await fetch(`/api/products/${productId}`);\n  const product = await response.json();\n  dispatch(getProduct(product));\n};\n\n/* ___________ R E D U C E R ___________ */\nconst productsReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  let newState = {};\n  switch (action.type) {\n    case CLEARPRODUCT:\n      return newState;\n    case GET_PRODUCTS_BY_DEPT:\n      action.products.forEach(ele => newState[ele.id] = ele);\n      return newState;\n    case GET_PRODUCT_BY_DEPT:\n      newState[action.product.id] = action.product;\n      return newState;\n    default:\n      return state;\n  }\n};\nexport default productsReducer;","map":{"version":3,"names":["GET_PRODUCTS_BY_DEPT","GET_PRODUCT_BY_DEPT","CLEARPRODUCT","getProducts","products","type","getProduct","product","clearSpotAction","CLEARSPOT","getProductsThunk","departmentId","dispatch","response","fetch","json","getProductThunk","productId","productsReducer","state","action","newState","forEach","ele","id"],"sources":["/home/michaellacey/appacademy/Projects/Bullseye-api-Target/react-app/src/store/product.js"],"sourcesContent":["const GET_PRODUCTS_BY_DEPT = 'get/department/products'\nconst GET_PRODUCT_BY_DEPT = 'get/department/product'\nconst CLEARPRODUCT = 'spot/clearSpot'\n\n/* ___________ A C T I O N S   ___________ */\nexport const getProducts = (products) => {\n    return {\n        type: GET_PRODUCTS_BY_DEPT,\n        products\n    };\n}\nexport const getProduct = (product) => {\n    return {\n        type: GET_PRODUCT_BY_DEPT,\n        product\n    };\n}\n\nexport const clearSpotAction = () => {\n  return {\n    type: CLEARSPOT,\n  };\n};\n/* ___________ T H U N K S   ___________ */\n// Get products for department \nexport const getProductsThunk = (departmentId) => async(dispatch) => {\n    const response = await fetch(`/api/departments/${departmentId}/products`)\n    const products = await response.json()\n    dispatch(getProducts(products));\n};\n\n// Get single product\nexport const getProductThunk = (productId) => async(dispatch) => {\n    const response = await fetch(`/api/products/${productId}`);\n    const product = await response.json();\n    dispatch(getProduct(product))\n};\n\n/* ___________ R E D U C E R ___________ */\nconst productsReducer = (state = {}, action) => {\n    let newState = {};\n    switch (action.type) {\n        case CLEARPRODUCT:\n            return newState\n\n        case GET_PRODUCTS_BY_DEPT:\n            action.products.forEach(ele => newState[ele.id] = ele)\n            return newState\n    \n        case GET_PRODUCT_BY_DEPT:\n            newState[action.product.id] = action.product\n            return newState\n\n        default:\n            return state;\n    }\n}\n\nexport default productsReducer;"],"mappings":"AAAA,MAAMA,oBAAoB,GAAG,yBAAyB;AACtD,MAAMC,mBAAmB,GAAG,wBAAwB;AACpD,MAAMC,YAAY,GAAG,gBAAgB;;AAErC;AACA,OAAO,MAAMC,WAAW,GAAIC,QAAQ,IAAK;EACrC,OAAO;IACHC,IAAI,EAAEL,oBAAoB;IAC1BI;EACJ,CAAC;AACL,CAAC;AACD,OAAO,MAAME,UAAU,GAAIC,OAAO,IAAK;EACnC,OAAO;IACHF,IAAI,EAAEJ,mBAAmB;IACzBM;EACJ,CAAC;AACL,CAAC;AAED,OAAO,MAAMC,eAAe,GAAG,MAAM;EACnC,OAAO;IACLH,IAAI,EAAEI;EACR,CAAC;AACH,CAAC;AACD;AACA;AACA,OAAO,MAAMC,gBAAgB,GAAIC,YAAY,IAAK,MAAMC,QAAQ,IAAK;EACjE,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,oBAAmBH,YAAa,WAAU,CAAC;EACzE,MAAMP,QAAQ,GAAG,MAAMS,QAAQ,CAACE,IAAI,EAAE;EACtCH,QAAQ,CAACT,WAAW,CAACC,QAAQ,CAAC,CAAC;AACnC,CAAC;;AAED;AACA,OAAO,MAAMY,eAAe,GAAIC,SAAS,IAAK,MAAML,QAAQ,IAAK;EAC7D,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,iBAAgBG,SAAU,EAAC,CAAC;EAC1D,MAAMV,OAAO,GAAG,MAAMM,QAAQ,CAACE,IAAI,EAAE;EACrCH,QAAQ,CAACN,UAAU,CAACC,OAAO,CAAC,CAAC;AACjC,CAAC;;AAED;AACA,MAAMW,eAAe,GAAG,YAAwB;EAAA,IAAvBC,KAAK,uEAAG,CAAC,CAAC;EAAA,IAAEC,MAAM;EACvC,IAAIC,QAAQ,GAAG,CAAC,CAAC;EACjB,QAAQD,MAAM,CAACf,IAAI;IACf,KAAKH,YAAY;MACb,OAAOmB,QAAQ;IAEnB,KAAKrB,oBAAoB;MACrBoB,MAAM,CAAChB,QAAQ,CAACkB,OAAO,CAACC,GAAG,IAAIF,QAAQ,CAACE,GAAG,CAACC,EAAE,CAAC,GAAGD,GAAG,CAAC;MACtD,OAAOF,QAAQ;IAEnB,KAAKpB,mBAAmB;MACpBoB,QAAQ,CAACD,MAAM,CAACb,OAAO,CAACiB,EAAE,CAAC,GAAGJ,MAAM,CAACb,OAAO;MAC5C,OAAOc,QAAQ;IAEnB;MACI,OAAOF,KAAK;EAAC;AAEzB,CAAC;AAED,eAAeD,eAAe"},"metadata":{},"sourceType":"module"}