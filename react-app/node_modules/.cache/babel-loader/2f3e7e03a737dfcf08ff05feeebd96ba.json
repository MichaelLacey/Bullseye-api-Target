{"ast":null,"code":"const GET_USERS_CART = 'get/cart';\nconst ADD_TO_CART = 'add/cart';\nconst DELETE_TO_CART = 'delete/cart';\n\n/* ___________ A C T I O N S   ___________ */\n// Get cart items\nexport const getCartItems = products => {\n  return {\n    type: GET_USERS_CART,\n    products\n  };\n};\n// Add a product to a cart\nexport const addCartItem = productId => {\n  return {\n    type: ADD_TO_CART,\n    productId\n  };\n};\n\n// Remove a product to a cart\nexport const deleteCartItem = productId => {\n  return {\n    type: DELETE_TO_CART,\n    productId\n  };\n};\n\n/* ___________ T H U N K S   ___________ */\n\n// Get users products in cart\nexport const getUsersCartThunk = () => async dispatch => {\n  const response = await fetch('/api/cart');\n  const cart = await response.json();\n  dispatch(getCartItems(cart));\n};\n\n// Add a product to a users cart \nexport const addToCartThunk = productId => async dispatch => {\n  const response = await fetch(`/api/cart/add/${productId}`);\n  const product = await response.json();\n  dispatch();\n};\n\n/* ___________ R E D U C E R ___________ */\nconst cartReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  let newState = {};\n  switch (action.type) {\n    case GET_USERS_CART:\n      action.products.forEach(ele => newState[ele.id] = ele);\n      return newState;\n    case ADD_TO_CART:\n      newState = {\n        ...state\n      };\n      newState[action.product.id] = action.product;\n      return newState;\n    case DELETE_TO_CART:\n      newState = {\n        ...state\n      };\n      delete newState[action.product.id];\n      return newState;\n    default:\n      return state;\n  }\n  ;\n};\nexport default cartReducer;","map":{"version":3,"names":["GET_USERS_CART","ADD_TO_CART","DELETE_TO_CART","getCartItems","products","type","addCartItem","productId","deleteCartItem","getUsersCartThunk","dispatch","response","fetch","cart","json","addToCartThunk","product","cartReducer","state","action","newState","forEach","ele","id"],"sources":["/home/michaellacey/appacademy/Projects/Bullseye-api-Target/react-app/src/store/cart.js"],"sourcesContent":["const GET_USERS_CART = 'get/cart'\nconst ADD_TO_CART = 'add/cart'\nconst DELETE_TO_CART = 'delete/cart'\n\n\n\n/* ___________ A C T I O N S   ___________ */\n// Get cart items\nexport const getCartItems = (products) => {\n    return {\n        type: GET_USERS_CART,\n        products\n    };\n};\n// Add a product to a cart\nexport const addCartItem = (productId) => {\n    return {\n        type:ADD_TO_CART,\n        productId\n    };\n};\n\n// Remove a product to a cart\nexport const deleteCartItem = (productId) => {\n    return{\n        type:DELETE_TO_CART,\n        productId\n    };\n};\n\n\n\n/* ___________ T H U N K S   ___________ */\n\n// Get users products in cart\nexport const getUsersCartThunk = () => async(dispatch) => {\n    const response = await fetch('/api/cart');\n    const cart = await response.json();\n    dispatch(getCartItems(cart));\n};\n\n// Add a product to a users cart \nexport const addToCartThunk = (productId) => async(dispatch) => {\n    const response = await fetch(`/api/cart/add/${productId}`)\n    const product = await response.json();\n    dispatch()\n}\n\n\n\n\n/* ___________ R E D U C E R ___________ */\nconst cartReducer = (state = {}, action) => {\n    let newState = {};\n    switch (action.type) {\n        \n        case GET_USERS_CART:\n            action.products.forEach(ele => newState[ele.id] = ele)\n            return newState\n\n        case ADD_TO_CART:\n            newState = { ...state }\n            newState[action.product.id] = action.product\n            return newState\n        \n        case DELETE_TO_CART:\n            newState = { ...state }\n            delete newState[action.product.id] \n            return newState\n\n        default:\n            return state;\n    };\n};\n\nexport default cartReducer;"],"mappings":"AAAA,MAAMA,cAAc,GAAG,UAAU;AACjC,MAAMC,WAAW,GAAG,UAAU;AAC9B,MAAMC,cAAc,GAAG,aAAa;;AAIpC;AACA;AACA,OAAO,MAAMC,YAAY,GAAIC,QAAQ,IAAK;EACtC,OAAO;IACHC,IAAI,EAAEL,cAAc;IACpBI;EACJ,CAAC;AACL,CAAC;AACD;AACA,OAAO,MAAME,WAAW,GAAIC,SAAS,IAAK;EACtC,OAAO;IACHF,IAAI,EAACJ,WAAW;IAChBM;EACJ,CAAC;AACL,CAAC;;AAED;AACA,OAAO,MAAMC,cAAc,GAAID,SAAS,IAAK;EACzC,OAAM;IACFF,IAAI,EAACH,cAAc;IACnBK;EACJ,CAAC;AACL,CAAC;;AAID;;AAEA;AACA,OAAO,MAAME,iBAAiB,GAAG,MAAM,MAAMC,QAAQ,IAAK;EACtD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,WAAW,CAAC;EACzC,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;EAClCJ,QAAQ,CAACP,YAAY,CAACU,IAAI,CAAC,CAAC;AAChC,CAAC;;AAED;AACA,OAAO,MAAME,cAAc,GAAIR,SAAS,IAAK,MAAMG,QAAQ,IAAK;EAC5D,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,iBAAgBL,SAAU,EAAC,CAAC;EAC1D,MAAMS,OAAO,GAAG,MAAML,QAAQ,CAACG,IAAI,EAAE;EACrCJ,QAAQ,EAAE;AACd,CAAC;;AAKD;AACA,MAAMO,WAAW,GAAG,YAAwB;EAAA,IAAvBC,KAAK,uEAAG,CAAC,CAAC;EAAA,IAAEC,MAAM;EACnC,IAAIC,QAAQ,GAAG,CAAC,CAAC;EACjB,QAAQD,MAAM,CAACd,IAAI;IAEf,KAAKL,cAAc;MACfmB,MAAM,CAACf,QAAQ,CAACiB,OAAO,CAACC,GAAG,IAAIF,QAAQ,CAACE,GAAG,CAACC,EAAE,CAAC,GAAGD,GAAG,CAAC;MACtD,OAAOF,QAAQ;IAEnB,KAAKnB,WAAW;MACZmB,QAAQ,GAAG;QAAE,GAAGF;MAAM,CAAC;MACvBE,QAAQ,CAACD,MAAM,CAACH,OAAO,CAACO,EAAE,CAAC,GAAGJ,MAAM,CAACH,OAAO;MAC5C,OAAOI,QAAQ;IAEnB,KAAKlB,cAAc;MACfkB,QAAQ,GAAG;QAAE,GAAGF;MAAM,CAAC;MACvB,OAAOE,QAAQ,CAACD,MAAM,CAACH,OAAO,CAACO,EAAE,CAAC;MAClC,OAAOH,QAAQ;IAEnB;MACI,OAAOF,KAAK;EAAC;EACpB;AACL,CAAC;AAED,eAAeD,WAAW"},"metadata":{},"sourceType":"module"}