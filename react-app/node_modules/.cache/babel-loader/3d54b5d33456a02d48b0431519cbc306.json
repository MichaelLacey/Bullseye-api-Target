{"ast":null,"code":"const get_wishlist = 'get/wishlist';\nconst add_to_wishlist = 'add/wishlist';\nconst delete_from_wishlist = 'delete/wishlist';\n\n/* ___________ A C T I O N S   ___________ */\n// get items in a persons wishlist\nexport const getWishlistAction = products => {\n  return {\n    type: get_wishlist,\n    products\n  };\n};\n\n// Add item to wishlist\nexport const addToWishlistAction = product => {\n  return {\n    type: add_to_wishlist,\n    product\n  };\n};\n\n// Delete item from the wishlist\nexport const deleteFromWishlistAction = productId => {\n  return {\n    type: delete_from_wishlist,\n    productId\n  };\n};\n\n/* ___________ T H U N K S   ___________ */\n\n// get wishlist\nexport const getWishlistThunk = () => async dispatch => {\n  const response = await fetch('/api/wishlist/');\n  const products = await response.json();\n  console.log('response', products);\n  dispatch(getWishlistAction(products));\n};\n\n// add to wishlist\nexport const addToWishlistThunk = productId => async dispatch => {\n  const response = await fetch(`/api/wishlist/addProduct/${productId}`, {\n    method: 'POST'\n  });\n  if (response.ok) {\n    const product = await response.json();\n    console.log('product in add to wihlist thunk :', product);\n    dispatch(addToWishlistAction(product));\n  }\n  ;\n};\n\n// Delete from wishlist \nexport const deleteFromWishlistThunk = wishlistId => async dispatch => {\n  const response = await fetch(`/api/wishlist/deleteProduct/${wishlistId}`, {\n    method: 'DELETE'\n  });\n  console.log('response from delete from wishlist ', response);\n  if (response.ok) dispatch(deleteFromWishlistAction(wishlistId));\n};\n\n/* ___________ R E D U C E R ___________ */\nconst wishlistReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  let newState = {};\n  switch (action.type) {\n    case get_wishlist:\n      action.products.forEach(ele => newState[ele.id] = ele);\n      return newState;\n    case add_to_wishlist:\n      newState = {\n        ...state\n      };\n      newState[action.product.id] = action.product;\n      return newState;\n    case delete_from_wishlist:\n      newState = {\n        ...state\n      };\n      delete newState[action.productId];\n      return newState;\n    default:\n      return state;\n  }\n  ;\n};\nexport default wishlistReducer;","map":{"version":3,"names":["get_wishlist","add_to_wishlist","delete_from_wishlist","getWishlistAction","products","type","addToWishlistAction","product","deleteFromWishlistAction","productId","getWishlistThunk","dispatch","response","fetch","json","console","log","addToWishlistThunk","method","ok","deleteFromWishlistThunk","wishlistId","wishlistReducer","state","action","newState","forEach","ele","id"],"sources":["/home/michaellacey/appacademy/Projects/Bullseye-api-Target/react-app/src/store/wishlist.js"],"sourcesContent":["const get_wishlist = 'get/wishlist';\nconst add_to_wishlist = 'add/wishlist';\nconst delete_from_wishlist = 'delete/wishlist';\n\n/* ___________ A C T I O N S   ___________ */\n// get items in a persons wishlist\nexport const getWishlistAction = (products) => {\n    return {\n        type: get_wishlist,\n        products\n    };\n};\n\n// Add item to wishlist\nexport const addToWishlistAction = (product) => {\n    return {\n        type: add_to_wishlist,\n        product\n    };\n};\n\n// Delete item from the wishlist\nexport const deleteFromWishlistAction = (productId) => {\n    return {\n        type: delete_from_wishlist,\n        productId\n    };\n};\n\n/* ___________ T H U N K S   ___________ */\n\n// get wishlist\nexport const getWishlistThunk = () => async (dispatch) => {\n    const response = await fetch('/api/wishlist/');\n    const products = await response.json();\n    console.log('response', products)\n    dispatch(getWishlistAction(products));\n};\n\n// add to wishlist\nexport const addToWishlistThunk = (productId) => async (dispatch) => {\n    const response = await fetch(`/api/wishlist/addProduct/${productId}`, { method: 'POST' });\n\n    if (response.ok) {\n        const product = await response.json();\n        console.log('product in add to wihlist thunk :', product);\n        dispatch(addToWishlistAction(product));\n    };\n};\n\n// Delete from wishlist \nexport const deleteFromWishlistThunk = (wishlistId) => async (dispatch) => {\n    const response = await fetch(`/api/wishlist/deleteProduct/${wishlistId}`, { method: 'DELETE' });\n    console.log('response from delete from wishlist ', response);\n    if (response.ok) dispatch(deleteFromWishlistAction(wishlistId));\n};\n\n/* ___________ R E D U C E R ___________ */\nconst wishlistReducer = (state = {}, action) => {\n    let newState = {};\n    switch (action.type) {\n\n        case get_wishlist:\n            action.products.forEach(ele => newState[ele.id] = ele)\n            return newState\n\n        case add_to_wishlist:\n            newState = { ...state }\n            newState[action.product.id] = action.product\n            return newState\n\n        case delete_from_wishlist:\n            newState = { ...state }\n            delete newState[action.productId]\n            return newState\n\n        default:\n            return state;\n    };\n};\n\nexport default wishlistReducer;"],"mappings":"AAAA,MAAMA,YAAY,GAAG,cAAc;AACnC,MAAMC,eAAe,GAAG,cAAc;AACtC,MAAMC,oBAAoB,GAAG,iBAAiB;;AAE9C;AACA;AACA,OAAO,MAAMC,iBAAiB,GAAIC,QAAQ,IAAK;EAC3C,OAAO;IACHC,IAAI,EAAEL,YAAY;IAClBI;EACJ,CAAC;AACL,CAAC;;AAED;AACA,OAAO,MAAME,mBAAmB,GAAIC,OAAO,IAAK;EAC5C,OAAO;IACHF,IAAI,EAAEJ,eAAe;IACrBM;EACJ,CAAC;AACL,CAAC;;AAED;AACA,OAAO,MAAMC,wBAAwB,GAAIC,SAAS,IAAK;EACnD,OAAO;IACHJ,IAAI,EAAEH,oBAAoB;IAC1BO;EACJ,CAAC;AACL,CAAC;;AAED;;AAEA;AACA,OAAO,MAAMC,gBAAgB,GAAG,MAAM,MAAOC,QAAQ,IAAK;EACtD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,gBAAgB,CAAC;EAC9C,MAAMT,QAAQ,GAAG,MAAMQ,QAAQ,CAACE,IAAI,EAAE;EACtCC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEZ,QAAQ,CAAC;EACjCO,QAAQ,CAACR,iBAAiB,CAACC,QAAQ,CAAC,CAAC;AACzC,CAAC;;AAED;AACA,OAAO,MAAMa,kBAAkB,GAAIR,SAAS,IAAK,MAAOE,QAAQ,IAAK;EACjE,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,4BAA2BJ,SAAU,EAAC,EAAE;IAAES,MAAM,EAAE;EAAO,CAAC,CAAC;EAEzF,IAAIN,QAAQ,CAACO,EAAE,EAAE;IACb,MAAMZ,OAAO,GAAG,MAAMK,QAAQ,CAACE,IAAI,EAAE;IACrCC,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAET,OAAO,CAAC;IACzDI,QAAQ,CAACL,mBAAmB,CAACC,OAAO,CAAC,CAAC;EAC1C;EAAC;AACL,CAAC;;AAED;AACA,OAAO,MAAMa,uBAAuB,GAAIC,UAAU,IAAK,MAAOV,QAAQ,IAAK;EACvE,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,+BAA8BQ,UAAW,EAAC,EAAE;IAAEH,MAAM,EAAE;EAAS,CAAC,CAAC;EAC/FH,OAAO,CAACC,GAAG,CAAC,qCAAqC,EAAEJ,QAAQ,CAAC;EAC5D,IAAIA,QAAQ,CAACO,EAAE,EAAER,QAAQ,CAACH,wBAAwB,CAACa,UAAU,CAAC,CAAC;AACnE,CAAC;;AAED;AACA,MAAMC,eAAe,GAAG,YAAwB;EAAA,IAAvBC,KAAK,uEAAG,CAAC,CAAC;EAAA,IAAEC,MAAM;EACvC,IAAIC,QAAQ,GAAG,CAAC,CAAC;EACjB,QAAQD,MAAM,CAACnB,IAAI;IAEf,KAAKL,YAAY;MACbwB,MAAM,CAACpB,QAAQ,CAACsB,OAAO,CAACC,GAAG,IAAIF,QAAQ,CAACE,GAAG,CAACC,EAAE,CAAC,GAAGD,GAAG,CAAC;MACtD,OAAOF,QAAQ;IAEnB,KAAKxB,eAAe;MAChBwB,QAAQ,GAAG;QAAE,GAAGF;MAAM,CAAC;MACvBE,QAAQ,CAACD,MAAM,CAACjB,OAAO,CAACqB,EAAE,CAAC,GAAGJ,MAAM,CAACjB,OAAO;MAC5C,OAAOkB,QAAQ;IAEnB,KAAKvB,oBAAoB;MACrBuB,QAAQ,GAAG;QAAE,GAAGF;MAAM,CAAC;MACvB,OAAOE,QAAQ,CAACD,MAAM,CAACf,SAAS,CAAC;MACjC,OAAOgB,QAAQ;IAEnB;MACI,OAAOF,KAAK;EAAC;EACpB;AACL,CAAC;AAED,eAAeD,eAAe"},"metadata":{},"sourceType":"module"}